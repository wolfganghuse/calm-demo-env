{"status":{},"contains_secrets":true,"product_version":"3.1.1","spec":{"description":"Provides a small k3s Environment, able to scale up\/down","resources":{"client_attrs":{"ee6e8c6f-8875-997e-4e03-90b477e1d12d":{"y":101.699821876,"x":701.2950902916},"fc4a4bcf-784d-b21a-225c-d8d43f52bc8f":{"y":-64.3001785278,"x":396.0451049805},"7362c5a5_deployment":{"y":-37.300178124,"x":354.2950902916}},"service_definition_list":[{"singleton":false,"action_list":[{"description":"System action for creating an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"fdd71209_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"856deaad_runbook","main_task_local_reference":{"kind":"app_task","name":"fdd71209_dag"},"variable_list":[]},"name":"action_create"},{"description":"System action for deleting an application. Deletes created VMs as well","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"a38e5328_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"cbeb8b49_runbook","main_task_local_reference":{"kind":"app_task","name":"a38e5328_dag"},"variable_list":[]},"name":"action_delete"},{"description":"System action for starting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"dad15ac8_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"b40ca710_runbook","main_task_local_reference":{"kind":"app_task","name":"dad15ac8_dag"},"variable_list":[]},"name":"action_start"},{"description":"System action for stopping an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"80e42ee4_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"15d13d00_runbook","main_task_local_reference":{"kind":"app_task","name":"80e42ee4_dag"},"variable_list":[]},"name":"action_stop"},{"description":"System action for restarting an application","type":"system","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"4e61a153_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]}],"description":"","name":"721b632f_runbook","main_task_local_reference":{"kind":"app_task","name":"4e61a153_dag"},"variable_list":[]},"name":"action_restart"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Remove_Worker"}],"name":"98e7aa88_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Remove_Worker","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nkubectl delete node @@{k3s_service.Node2Remove}@@","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]}],"description":"","name":"258eada4_runbook","main_task_local_reference":{"kind":"app_task","name":"98e7aa88_dag"},"variable_list":[]},"name":"Remove_Worker"}],"depends_on_list":[],"name":"k3s_service","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"MasterToken","value":"","label":"","attrs":{"type":""},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"Node2Remove","value":"","label":"","attrs":{"type":""},"editables":{"value":false},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}}],"description":""}],"substrate_definition_list":[{"description":"","action_list":[],"type":"AHV_VM","name":"k3s","readiness_probe":{"connection_type":"SSH","retries":"5","connection_protocol":"","connection_port":22,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"60","disable_readiness_probe":false,"login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{}}}},"os_type":"Linux","create_spec":{"name":"k3s-@@{calm_array_index}@@-@@{calm_time}@@","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"7923f6f6-483f-4dea-ade9-a02d781139f9"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":2048,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nmanage_etc_hosts: true\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"2524d569-1636-4955-9040-e704ab341f38","boot_config":{"boot_device":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"}},"type":"","boot_type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"CentOS-7-x86_64-GenericCloud.qcow2","uuid":"170cd1a4-418a-4f8a-b538-f4f75332f00a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","disk_address":{"type":"","device_index":0,"adapter_type":"SCSI"},"device_type":"DISK"}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[]}],"credential_definition_list":[{"username":"centos","description":"","type":"KEY","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"AC56ozlpg3eoX6sZgIhqKatS0PVMrTPafz9X41AQrlYrfzkZ452lM7KW6fc0hV2SOjV4ON1RJoyX1Qf5zueruCtnUcma51BSASQutAG3Uc2xSN1dCdxx75DqL959d+bqc7aNNggeVnXm+rYxKVpIAVdfvjyXZnYjYiXn9GmAFCEu1gMcR4j67QYkY857eXRJVFV\/+muyOrbqgP\/nVdTSDGS9Xec0KENSFLnNSu5iR4ylCAQZAxUxvGaiDtcuMiFAEwEgJ73aauYMtJrUfcUw\/JEWipdQRsZveJchIWwKGJJGclhkfK+OsNd8WeXZuzmY9mjzARbLZyGIk2qxink0NDF8ATUnNhQn2+tzUz4OTuppmfJHamB16V\/61rqskOygR29QkcS8L4jumKpI0zqIc106eFv6\/HMLs8KPxEfZAJFsJ1ajcjyfxtGDkvF+XCb6oOQkCAzln2v29RmKZuh6Khrq+W5vhPrBbffrAw5\/rgMwOwAfTeLOm4egcmgkOeiWwWgehqcmiffchWxXweYuxTlXnY9hSTiy29RNcOejJPopjKL\/xYqW7w3QrKjrThpiOImFjjQio\/Ij68qPGDEgB4sGzXt5SgJRLJhQygzJPibElmw2O+mj0D1Tq7zA+4FiOy5kGGQfDpJzoXXPfiFhToblWMhnwzPOO891Yy31yTvoL4t9W4ZV3e+fIICaTbsg4tErILgcKRBoUgZq0\/XhzlvcRpAkMGGnO8B5sy3PPszwIz0WDX17eLaAW+ncQDJf79Rs4WNEpmV5k9+zumnb9Wvjrxj7Scq\/qMZT9qlA77lvPkpUUxLb04jNvVAWHDfZrgB0WEvFAqUmtIZdpBw6Br6DJD0NrU41jODd+G0Fo+VUG5IFvbpUkjKbFA2pXb0th1w35qO1yMtxaQ+UFv2ekQiDLZ6DjzeQM891k04Q6x64A6ZdZ9QaumGwa1jU78iZiFd+vqd+GMssS6m5PJJ3SSIr\/+QGn5ZXUtxCiJuUr3tHGhzU2OX5P2zyKbioUiK4B+eBRmGn8dX4KQHDBd6nBXXmLrKiyGzwpc2ED2ooa703dxStgmvbcZp4985PmC0MwQHsSbiUylTn+fhZV201ndyLDvbQ5L+wicCkxIMu7KV\/XUS\/r7vxn64JdrzD1qiqO2vJ3S4iBjSeZD4u0m6i2UcnArNqsh5ShDSnPqFGVbnEwzFekRKM1FjP+n7f0wqbM6W4TzGc25OAXEtoLcXD3mN1bBJpAVGzAuyxkS4VQTaev4CfckLqNN4gtzoRR0IZ\/TqobFIs8UKr8VVtzAx7h0QQ4QxBhQxzr5Cfb6bl\/dICnb0jv3k2b0EQElZYm8V7DpNqRip9Qi4UxGH0qemdCXCUHPgwDFgCSrh4gK9UqCXh489T+AkvgWwTFt+8smBnnrl00HDLkdB+Uvo+TxQoXAsil2eWl+dGFi5fi\/xbfEeDzCG\/7b7bqylBHje5kz4kKjAO7JAsw0ihRXv8eRBxqRv6INBNZg+l1MxKcQeyvdDljsQpr5Q+gG2LbK\/bTUDw4gUKcZYCdPgdynYK3IfoulwDndqLhDgMeFK5K+WcmI3dAcewUkXgeWxB90oWr2omRsv\/UGoB2FrEukPZTGfsakYnTfQQimVg0ex0YIxI6bujSLGEODmeSIjNf7eEANDyNCVOdwJ\/C7wyHQCRDbeAyXXS+6LpmclZWjhk7agojTlG6KZgtekMniZs3lbD5QeTEbxpvJ+z7y8IsopDsDAEss8yYbe3+QG2DGrwGSMk936DYIXElcTfMT4E0B+mbAzMz5ILzORUFWEOSiaEtOGfBn3gLe+Mls+Mh0JvHvv9Um2lXXc0jdb3jnWveGelmOXeSgzbv48HhM1oChJPm\/+6RtOnJ+q5QXT4iQUMNqKoFM5d500f3mfAk1sLpV+DKEZHoEe00Z4KU3FKak6lASj\/uHvO8EJlPzk5VNFQPxd1GLPkJtsfbCQSJ60oH48bNlnQagHBzvLDZSLazwfXwbRa9Ma\/53nztq9v6Ed\/jn+vxRdTu\/cIYCzc9zKXUPj+4edt+CpQ5o8VFolcjU\/jkC56m+AHUkusa46DpYzs1zECNq8foncju\/4k+EWMVPieOPWFgtzFJfBV36TUbATEwZadJB6UiptFK9tpVM+XFRF+0Pgu\/lxr12k\/7gZ+eWoXIToNUYUC5nAIS3mGB3HBnc8C57eE6tDX3C7LkKA2hwTAhEN2rceJI8GHLuZgfza2sjAtMxU0qi839+Z6DO4QK0T98nHnaaL7Ix7MgW7JOELMYegd0Q41hsTjZxg51hP3kN6hfAzUWcviEfpXlULoK+IpHLxPK5PsdHuJXsxiZakydfIAyt49TklUJplSY1YKas+RbASrYvM+sADi\/4nRjWJrFSUlNh8i1P9aJKrBugDJBccVN59B2N4+K5pTIbTf+AK5fgSz+Kpm7ZbZvy7vcR\/QpRscncAUgxoQeaGwOzDr:utf-8"},"name":"centos_ssh"},{"username":"wolfgang@ntnx.test","description":"","type":"PASSWORD","secret":{"attrs":{"is_secret_modified":true,"secret_reference":{}},"value":"LtiYktm8LpCfAskSfbipughBnZ37FOmaIAWzLvi9xpOuYGiHT4SIdjAH+3o=:utf-8"},"name":"PrismElement"}],"package_definition_list":[{"description":"","action_list":[],"type":"DEB","service_local_reference_list":[{"kind":"app_service","name":"k3s_service"}],"name":"Package1","version":"","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package1"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Prerequisites"},{"kind":"app_task","name":"install_k3sServer"},{"kind":"app_task","name":"install_k3sAgent"},{"kind":"app_task","name":"install_NutanixCSi"},{"kind":"app_task","name":"create_NTNXSecret"},{"kind":"app_task","name":"create_StorageClass"},{"kind":"app_task","name":"Set_MasterToken"}],"name":"8b53de65_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Prerequisites"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"install_k3sServer"}},{"from_task_reference":{"kind":"app_task","name":"create_NTNXSecret"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"create_StorageClass"}},{"from_task_reference":{"kind":"app_task","name":"install_NutanixCSi"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"create_NTNXSecret"}},{"from_task_reference":{"kind":"app_task","name":"create_StorageClass"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Set_MasterToken"}},{"from_task_reference":{"kind":"app_task","name":"install_k3sServer"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"install_k3sAgent"}},{"from_task_reference":{"kind":"app_task","name":"install_k3sAgent"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"install_NutanixCSi"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Prerequisites","attrs":{"exit_status":[],"script":"sudo yum install wget -y\nsudo yum install -y iscsi-initiator-utils\nsudo yum install -y nfs-utils\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"install_k3sServer","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\nsleep 10\n\nsudo curl -sfL https:\/\/get.k3s.io | sh -s - --write-kubeconfig-mode 644\n\n###Wait until K3s is up and running...\n\nsleep 60\n#kubectl version\n#while [ $? -ne 0 ]; do\n#\tsleep 5\n#    kubectl version\n#done\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"install_k3sAgent","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nif [ @@{calm_array_index}@@ -eq 0 ];then\n\texit\nfi\n\nsudo curl -sfL https:\/\/get.k3s.io | K3S_TOKEN=@@{calm_array_MasterToken}@@ K3S_URL=https:\/\/@@{calm_array_address[0]}@@:6443 sh -\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"install_NutanixCSi","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nwget http:\/\/download.nutanix.com\/csi\/v1.0.1\/csi-v1.0.1.tar.gz\ntar xvf csi-v1.0.1.tar.gz\nkubectl create -f CSI\/ntnx-csi-rbac.yaml\nkubectl create -f CSI\/ntnx-csi-attacher.yaml\nkubectl create -f CSI\/ntnx-csi-node.yaml\nkubectl create -f CSI\/ntnx-csi-provisioner.yaml\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"create_NTNXSecret","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\n\nsleep 10\n\necho -n \"apiVersion: v1\nkind: Secret\nmetadata:\n name: ntnx-secret\n namespace: default\ndata:\n key: \" | tee ntnx-secret.yaml\n echo -n \"@@{PrismElement_IP}@@:@@{PrismElement_Port}@@:@@{PrismElement.username}@@:@@{PrismElement.secret}@@\" | base64 | tee -a ntnx-secret.yaml\n \n kubectl create -f ntnx-secret.yaml","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"create_StorageClass","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\nsleep 10\n\necho -n \"kind: StorageClass\napiVersion: storage.k8s.io\/v1\nmetadata:\n   name: acs-abs\nprovisioner: com.nutanix.csi\nparameters:\n   csiProvisionerSecretName: ntnx-secret\n   csiProvisionerSecretNamespace: default\n   csiNodePublishSecretName: ntnx-secret\n   csiNodePublishSecretNamespace: default\n   dataServiceEndPoint: @@{PrismElement_DataIP}@@\n   storageContainer: @@{CSI_StorageContainer}@@\n   fsType: @@{CSI_fsType}@@\n   flashMode: DISABLED\nreclaimPolicy: Delete\" | tee ntnx-storageclass.yaml\n\n\n\n\n\necho -n \"kind: StorageClass\napiVersion: storage.k8s.io\/v1\nmetadata:\n   name: acs-abs\nprovisioner: com.nutanix.csi\nparameters:\n   csiProvisionerSecretName: ntnx-secret\n   csiProvisionerSecretNamespace: default\n   csiNodePublishSecretName: ntnx-secret\n   csiNodePublishSecretNamespace: default\n   dataServiceEndPoint: @@{PrismElement_DataIP}@@\n   storageContainer: @@{CSI_StorageContainer}@@\n   storageType: NutanixVolumes\n   description: k3s-acs-abs\n   fsType: @@{CSI_fsType}@@\n   flashMode: DISABLED\nreclaimPolicy: Delete\" | tee ntnx-storageclass.yaml\n\n\n\n\n\n\nkubectl create -f ntnx-storageclass.yaml","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"EXEC","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Set_MasterToken","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nif [ @@{calm_array_index}@@ -ne 0 ];then\n  exit\nfi\nsleep 10\n\necho \"MasterToken=$(sudo cat \/var\/lib\/rancher\/k3s\/server\/node-token)\"","eval_variables":["MasterToken"],"eval_scope":"local","script_type":"sh","type":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[]}],"description":"","name":"ae31421c_runbook","main_task_local_reference":{"kind":"app_task","name":"8b53de65_dag"},"variable_list":[]},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"Package1"},"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"SetNode2Remove"}],"name":"a20544b9_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"SetNode2Remove","attrs":{"exit_status":[],"script":"echo \"Node2Remove=\"$HOSTNAME","eval_variables":["Node2Remove"],"eval_scope":"local","script_type":"sh","type":"","login_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"}},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[]}],"description":"","name":"a658614a_runbook","main_task_local_reference":{"kind":"app_task","name":"a20544b9_dag"},"variable_list":[]}},"variable_list":[]}],"app_profile_list":[{"deployment_create_list":[{"type":"GREENFIELD","action_list":[],"name":"7362c5a5_deployment","min_replicas":"1","default_replicas":"","depends_on_list":[],"published_service_local_reference_list":[],"max_replicas":"10","package_local_reference_list":[{"kind":"app_package","name":"Package1"}],"substrate_local_reference":{"kind":"app_substrate","name":"k3s"},"variable_list":[],"description":""}],"description":"","action_list":[{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out"}],"name":"23582393_dag","attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"7362c5a5_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Scale Out","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[]}],"description":"","name":"6901f36e_runbook","main_task_local_reference":{"kind":"app_task","name":"23582393_dag"},"variable_list":[]},"name":"Scale Out Worker"},{"description":"","type":"user","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In Task"},{"kind":"app_task","name":"Remove_Worker"}],"name":"d7af9311_dag","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Scale In Task"},"edge_type":"user_defined","type":"","to_task_reference":{"kind":"app_task","name":"Remove_Worker"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[]},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"7362c5a5_deployment"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Scale In Task","attrs":{"scaling_count":"1","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[]},{"target_any_local_reference":{"kind":"app_service","name":"k3s_service"},"retries":"0","description":"","child_tasks_local_reference_list":[],"name":"Remove_Worker","attrs":{"type":"CALL_RUNBOOK","inarg_list":[],"runbook_reference":{"kind":"app_runbook","name":"258eada4_runbook"}},"timeout_secs":"0","type":"CALL_RUNBOOK","variable_list":[]}],"description":"","name":"dfe416fd_runbook","main_task_local_reference":{"kind":"app_task","name":"d7af9311_dag"},"variable_list":[]},"name":"Scale In Worker"}],"name":"Default","variable_list":[{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"INSTANCE_PUBLIC_KEY","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDqCc1QrIA7dEmuIcN7BLkEyvFx6GR1zteLdo0ep8PaJIbNhdYq4rSy9wrrmsaRl5MrWiP0oey4ffmqrZKCqiihUx3iMX+J1GNL2ZsvYaI5EIHA4y8ML23n64PTmqH8SW+n+hprRe3T13mUBSvhKjzVlGROQS8GHW6Bc5ULiBZQNwccs9OjD6vVgNqsHNODz3uMCC0FR5IHWrhzNgqZXnaGNuz16nIAHsHpNvUc8PIBg9ElstOMCguq5cAyntN2eXs8YQXP29uJPiTjxyTh35T5eFCkkxWqPlBF23QPnCFgCk6hC3epv\/stIbZnpCgYR4e7epwZDQDyrPwT3hBYcrxT centos@nutanix.com","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"PrismElement_IP","value":"172.23.1.112","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"PrismElement_Port","value":"9440","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"PrismElement_DataIP","value":"172.23.1.113","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"CSI_StorageContainer","value":"k3s","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":[]}},{"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","type":"LOCAL","name":"CSI_fsType","value":"xfs","label":"","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"options":{"type":"PREDEFINED","choices":["xfs","ext4"]}}]}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"centos_ssh"},"type":"USER"},"name":"wh-k3s"},"api_version":"3.0","metadata":{"last_update_time":"1591775655242085","kind":"blueprint","spec_version":90,"creation_time":"1568788221381344","name":"wh-k3s"}}